<div class="content-wrapper">
    <div>
        <br />
        <div class="col-md-12" ng-if="filteredActiveTournaments.length != 0">
            <div class="box box-info">
                <div class="box-header with-border">
                    <div class="box-title">
                        Active &nbsp;<span class="badge bg-aqua" ng-if="!vm.waiting">{{filteredActiveTournaments.length}}</span> 
                        <span ng-if="vm.waiting"><span class="fa fa-spinner fa-spin"></span></span>
                    </div>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" id="collapse-active-tournaments-button">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                </div>
                <div class="box-body">

                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Size</th>
                                <th class="text-center">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="tournament in vm.tournaments | filter: {completed: '0'} as filteredActiveTournaments" class="clickable" ng-click="vm.viewTournament(tournament.tid)">
                                <td>{{tournament.tname}}</td>
                                <td>
                                    {{tournament.numParticipants}} person tournament
                                </td>
                                <td class="text-center">
                                    <span class="label label-success" ng-if="tournament.userPlevel == 0">Host</span>
                                    <span class="label label-warning" ng-if="tournament.userPlevel == 1">Manager</span>
                                    <span class="label label-info" ng-if="tournament.userPlevel == 2">Participant</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-12" ng-if="filteredCompletedTournaments.length != 0">
            <div class="box box-success">
                <div class="box-header with-border">
                    <div class="box-title">
                        Completed &nbsp;<span class="badge bg-green" ng-if="!vm.waiting">{{filteredCompletedTournaments.length}}</span>
                        <span ng-if="vm.waiting"><span class="fa fa-spinner fa-spin"></span></span>
                    </div>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" id="collapse-completed-tournaments-button">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                </div>
                <div class="box-body">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Size</th>
                                <th>Winner</th>
                                <th class="text-center">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="tournament in vm.tournaments | filter: {completed: '1'} as filteredCompletedTournaments" class="clickable">
                                <td>{{tournament.tname}}</td>
                                <td>{{tournament.numParticipants}} person tournament</td>
                                <td>
                                    winner
                                </td>
                                <td class="text-center">
                                    <span class="label label-success" ng-if="tournament.userPlevel == 0">Host</span>
                                    <span class="label label-warning" ng-if="tournament.userPlevel == 1">Manager</span>
                                    <span class="label label-info" ng-if="tournament.userPlevel == 2">Participant</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>